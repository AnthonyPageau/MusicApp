<p style="color: green"><%= notice %></p>

<div id="artists" style="text-align: center;">
  <div class="search-bar">
    <%= form_tag(artists_path, method: "get") do %>
      <%= text_field_tag(:name, params[:name], placeholder: "Search by name") %>
      <%= submit_tag("Search", class: "search-button") %>
    <% end %>
  </div>

  <div class="button-container">
    <%= link_to "New artist", new_artist_path, class: "button" %>
  </div>

  <% @artists.each do |artist| %>
    <div class="index-item">
      <span><b> Name </b>: <%= artist.name %> </span><br>
      <span><b>Country</b>: <%= artist.country %> </span><br>
      <div class="genre-list">
        <p><b>Genres:</b>
          <% artist.genres.each do |genre| %>
            <%= link_to genre.name, genre %><%= "," unless genre == artist.genres.last %>
          <% end %>
        </p>
      </div>
      <div class="genre-list">
        <p><b>Sub Genres:</b>
          <% artist.sub_genres.each do |sub_genre| %>
            <%= link_to sub_genre.name, sub_genre %><%= "," unless sub_genre == artist.sub_genres.last %>
          <% end %>
        </p>
      </div>
      <p>
        <%= link_to "Show this artist", artist, class: "button" %>
      </p>
    </div>
  <% end %>
</div>
